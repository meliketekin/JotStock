/*! @sentry/integrations 6.19.2 (f49c509) | https://github.com/getsentry/sentry-javascript */
!function(n){var t={};function r(n,t,r,e){return new(r||(r=Promise))((function(o,i){function u(n){try{c(e.next(n))}catch(n){i(n)}}function f(n){try{c(e.throw(n))}catch(n){i(n)}}function c(n){var t;n.done?o(n.value):(t=n.value,t instanceof r?t:new r((function(n){n(t)}))).then(u,f)}c((e=e.apply(n,t||[])).next())}))}const e={};function o(){return"undefined"!=typeof window?window:"undefined"!=typeof self?self:e}const i=Object.prototype.toString;function u(n,t){return i.call(n)===`[object ${t}]`}function f(n){return null===n||"object"!=typeof n&&"function"!=typeof n}function c(n){return"undefined"!=typeof Element&&s(n,Element)}function a(n){return function(n){return u(n,"Object")}(n)&&"nativeEvent"in n&&"preventDefault"in n&&"stopPropagation"in n}function s(n,t){try{return n instanceof t}catch(n){return!1}}function v(n,t){try{let r=n;const e=5,o=80,i=[];let u=0,f=0;const c=" > ",a=c.length;let s;for(;r&&u++<e&&(s=l(r,t),!("html"===s||u>1&&f+i.length*a+s.length>=o));)i.push(s),f+=s.length,r=r.parentNode;return i.reverse().join(c)}catch(n){return"<unknown>"}}function l(n,t){const r=n,e=[];let o,i,f,c,a;if(!r||!r.tagName)return"";e.push(r.tagName.toLowerCase());const s=t&&t.length?t.filter((n=>r.getAttribute(n))).map((n=>[n,r.getAttribute(n)])):null;if(s&&s.length)s.forEach((n=>{e.push(`[${n[0]}="${n[1]}"]`)}));else if(r.id&&e.push(`#${r.id}`),o=r.className,o&&u(o,"String"))for(i=o.split(/\s+/),a=0;a<i.length;a++)e.push(`.${i[a]}`);const v=["type","name","title","alt"];for(a=0;a<v.length;a++)f=v[a],c=r.getAttribute(f),c&&e.push(`[${f}="${c}"]`);return e.join("")}function d(n){if(function(n){switch(i.call(n)){case"[object Error]":case"[object Exception]":case"[object DOMException]":return!0;default:return s(n,Error)}}(n)){const t=n,r={message:t.message,name:t.name,stack:t.stack};for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r[n]=t[n]);return r}if(t=n,"undefined"!=typeof Event&&s(t,Event)){const t=n,r={};r.type=t.type;try{r.target=c(t.target)?v(t.target):Object.prototype.toString.call(t.target)}catch(n){r.target="<unknown>"}try{r.currentTarget=c(t.currentTarget)?v(t.currentTarget):Object.prototype.toString.call(t.currentTarget)}catch(n){r.currentTarget="<unknown>"}"undefined"!=typeof CustomEvent&&s(n,CustomEvent)&&(r.detail=t.detail);for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r[n]=t[n]);return r}var t;return n}const h="<anonymous>";function y(n,t=1/0,r=1/0){try{return p("",n,t,r)}catch(n){return"**non-serializable**"}}function p(n,t,r=1/0,e=1/0,o=function(){const n="function"==typeof WeakSet,t=n?new WeakSet:[];return[function(r){if(n)return!!t.has(r)||(t.add(r),!1);for(let n=0;n<t.length;n++)if(t[n]===r)return!0;return t.push(r),!1},function(r){if(n)t.delete(r);else for(let n=0;n<t.length;n++)if(t[n]===r){t.splice(n,1);break}}]}()){const[i,u]=o;if(0===r)return function(n){if("string"==typeof n)return n;const t=Object.prototype.toString.call(n);if("[object Object]"===t)return"[Object]";if("[object Array]"===t)return"[Array]";const r=w(n);return f(r)?r:t}(t);if(null!=t&&"function"==typeof t.toJSON)return t.toJSON();const c=w(t,n);if(f(c))return c;const a=d(t),s=Array.isArray(t)?[]:{};if(i(t))return"[Circular ~]";let v=0;for(const n in a){if(!Object.prototype.hasOwnProperty.call(a,n))continue;if(v>=e){s[n]="[MaxProperties ~]";break}v+=1;const t=a[n];s[n]=p(n,t,r-1,e,o)}return u(t),s}function w(n,t){return"domain"===t&&n&&"object"==typeof n&&n.t?"[Domain]":"domainEmitter"===t?"[DomainEmitter]":"undefined"!=typeof global&&n===global?"[Global]":"undefined"!=typeof window&&n===window?"[Window]":"undefined"!=typeof document&&n===document?"[Document]":a(n)?"[SyntheticEvent]":"number"==typeof n&&n!=n?"[NaN]":void 0===n?"[undefined]":"function"==typeof n?`[Function: ${function(n){try{return n&&"function"==typeof n&&n.name||h}catch(n){return h}}(n)}]`:"symbol"==typeof n?`[${String(n)}]`:"bigint"==typeof n?`[BigInt: ${String(n)}]`:n}var b="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function E(n){throw new Error('Could not dynamically require "'+n+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var g={exports:{}};g.exports=function n(t,r,e){function o(u,f){if(!r[u]){if(!t[u]){if(!f&&E)return E(u);if(i)return i(u,!0);var c=new Error("Cannot find module '"+u+"'");throw c.code="MODULE_NOT_FOUND",c}var a=r[u]={exports:{}};t[u][0].call(a.exports,(function(n){var r=t[u][1][n];return o(r||n)}),a,a.exports,n,t,r,e)}return r[u].exports}for(var i=E,u=0;u<e.length;u++)o(e[u]);return o}({1:[function(n,t,r){(function(n){var r,e,o=n.MutationObserver||n.WebKitMutationObserver;if(o){var i=0,u=new o(s),f=n.document.createTextNode("");u.observe(f,{characterData:!0}),r=function(){f.data=i=++i%2}}else if(n.setImmediate||void 0===n.MessageChannel)r="document"in n&&"onreadystatechange"in n.document.createElement("script")?function(){var t=n.document.createElement("script");t.onreadystatechange=function(){s(),t.onreadystatechange=null,t.parentNode.removeChild(t),t=null},n.document.documentElement.appendChild(t)}:function(){setTimeout(s,0)};else{var c=new n.MessageChannel;c.port1.onmessage=s,r=function(){c.port2.postMessage(0)}}var a=[];function s(){var n,t;e=!0;for(var r=a.length;r;){for(t=a,a=[],n=-1;++n<r;)t[n]();r=a.length}e=!1}function v(n){1!==a.push(n)||e||r()}t.exports=v}).call(this,void 0!==b?b:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],2:[function(n,t,r){var e=n(1);function o(){}var i={},u=["REJECTED"],f=["FULFILLED"],c=["PENDING"];function a(n){if("function"!=typeof n)throw new TypeError("resolver must be a function");this.state=c,this.queue=[],this.outcome=void 0,n!==o&&d(this,n)}function s(n,t,r){this.promise=n,"function"==typeof t&&(this.onFulfilled=t,this.callFulfilled=this.otherCallFulfilled),"function"==typeof r&&(this.onRejected=r,this.callRejected=this.otherCallRejected)}function v(n,t,r){e((function(){var e;try{e=t(r)}catch(t){return i.reject(n,t)}e===n?i.reject(n,new TypeError("Cannot resolve promise with itself")):i.resolve(n,e)}))}function l(n){var t=n&&n.then;if(n&&("object"==typeof n||"function"==typeof n)&&"function"==typeof t)return function(){t.apply(n,arguments)}}function d(n,t){var r=!1;function e(t){r||(r=!0,i.reject(n,t))}function o(t){r||(r=!0,i.resolve(n,t))}function u(){t(o,e)}var f=h(u);"error"===f.status&&e(f.value)}function h(n,t){var r={};try{r.value=n(t),r.status="success"}catch(n){r.status="error",r.value=n}return r}function y(n){return n instanceof this?n:i.resolve(new this(o),n)}function p(n){var t=new this(o);return i.reject(t,n)}function w(n){var t=this;if("[object Array]"!==Object.prototype.toString.call(n))return this.reject(new TypeError("must be an array"));var r=n.length,e=!1;if(!r)return this.resolve([]);for(var u=new Array(r),f=0,c=-1,a=new this(o);++c<r;)s(n[c],c);return a;function s(n,o){function c(n){u[o]=n,++f!==r||e||(e=!0,i.resolve(a,u))}t.resolve(n).then(c,(function(n){e||(e=!0,i.reject(a,n))}))}}function b(n){var t=this;if("[object Array]"!==Object.prototype.toString.call(n))return this.reject(new TypeError("must be an array"));var r=n.length,e=!1;if(!r)return this.resolve([]);for(var u=-1,f=new this(o);++u<r;)c(n[u]);return f;function c(n){t.resolve(n).then((function(n){e||(e=!0,i.resolve(f,n))}),(function(n){e||(e=!0,i.reject(f,n))}))}}t.exports=a,a.prototype.catch=function(n){return this.then(null,n)},a.prototype.then=function(n,t){if("function"!=typeof n&&this.state===f||"function"!=typeof t&&this.state===u)return this;var r=new this.constructor(o);return this.state!==c?v(r,this.state===f?n:t,this.outcome):this.queue.push(new s(r,n,t)),r},s.prototype.callFulfilled=function(n){i.resolve(this.promise,n)},s.prototype.otherCallFulfilled=function(n){v(this.promise,this.onFulfilled,n)},s.prototype.callRejected=function(n){i.reject(this.promise,n)},s.prototype.otherCallRejected=function(n){v(this.promise,this.onRejected,n)},i.resolve=function(n,t){var r=h(l,t);if("error"===r.status)return i.reject(n,r.value);var e=r.value;if(e)d(n,e);else{n.state=f,n.outcome=t;for(var o=-1,u=n.queue.length;++o<u;)n.queue[o].callFulfilled(t)}return n},i.reject=function(n,t){n.state=u,n.outcome=t;for(var r=-1,e=n.queue.length;++r<e;)n.queue[r].callRejected(t);return n},a.resolve=y,a.reject=p,a.all=w,a.race=b},{1:1}],3:[function(n,t,r){(function(t){"function"!=typeof t.Promise&&(t.Promise=n(2))}).call(this,void 0!==b?b:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{2:2}],4:[function(n,t,r){var e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(n){return typeof n}:function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n};function o(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")}function i(){try{if("undefined"!=typeof indexedDB)return indexedDB;if("undefined"!=typeof webkitIndexedDB)return webkitIndexedDB;if("undefined"!=typeof mozIndexedDB)return mozIndexedDB;if("undefined"!=typeof OIndexedDB)return OIndexedDB;if("undefined"!=typeof msIndexedDB)return msIndexedDB}catch(n){return}}var u=i();function f(){try{if(!u||!u.open)return!1;var n="undefined"!=typeof openDatabase&&/(Safari|iPhone|iPad|iPod)/.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent)&&!/BlackBerry/.test(navigator.platform),t="function"==typeof fetch&&-1!==fetch.toString().indexOf("[native code");return(!n||t)&&"undefined"!=typeof indexedDB&&"undefined"!=typeof IDBKeyRange}catch(n){return!1}}function c(n,t){n=n||[],t=t||{};try{return new Blob(n,t)}catch(o){if("TypeError"!==o.name)throw o;for(var r=new("undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof MSBlobBuilder?MSBlobBuilder:"undefined"!=typeof MozBlobBuilder?MozBlobBuilder:WebKitBlobBuilder),e=0;e<n.length;e+=1)r.append(n[e]);return r.getBlob(t.type)}}"undefined"==typeof Promise&&n(3);var a=Promise;function s(n,t){t&&n.then((function(n){t(null,n)}),(function(n){t(n)}))}function v(n,t,r){"function"==typeof t&&n.then(t),"function"==typeof r&&n.catch(r)}function l(n){return"string"!=typeof n&&(console.warn(n+" used as a key, but it is not a string."),n=String(n)),n}function d(){if(arguments.length&&"function"==typeof arguments[arguments.length-1])return arguments[arguments.length-1]}var h="local-forage-detect-blob-support",y=void 0,p={},w=Object.prototype.toString,b="readonly",E="readwrite";function g(n){for(var t=n.length,r=new ArrayBuffer(t),e=new Uint8Array(r),o=0;o<t;o++)e[o]=n.charCodeAt(o);return r}function m(n){return new a((function(t){var r=n.transaction(h,E),e=c([""]);r.objectStore(h).put(e,"key"),r.onabort=function(n){n.preventDefault(),n.stopPropagation(),t(!1)},r.oncomplete=function(){var n=navigator.userAgent.match(/Chrome\/(\d+)/),r=navigator.userAgent.match(/Edge\//);t(r||!n||parseInt(n[1],10)>=43)}})).catch((function(){return!1}))}function S(n){return"boolean"==typeof y?a.resolve(y):m(n).then((function(n){return y=n}))}function I(n){var t=p[n.name],r={};r.promise=new a((function(n,t){r.resolve=n,r.reject=t})),t.deferredOperations.push(r),t.dbReady?t.dbReady=t.dbReady.then((function(){return r.promise})):t.dbReady=r.promise}function x(n){var t=p[n.name].deferredOperations.pop();if(t)return t.resolve(),t.promise}function A(n,t){var r=p[n.name].deferredOperations.pop();if(r)return r.reject(t),r.promise}function O(n,t){return new a((function(r,e){if(p[n.name]=p[n.name]||L(),n.db){if(!t)return r(n.db);I(n),n.db.close()}var o=[n.name];t&&o.push(n.version);var i=u.open.apply(u,o);t&&(i.onupgradeneeded=function(t){var r=i.result;try{r.createObjectStore(n.storeName),t.oldVersion<=1&&r.createObjectStore(h)}catch(r){if("ConstraintError"!==r.name)throw r;console.warn('The database "'+n.name+'" has been upgraded from version '+t.oldVersion+" to version "+t.newVersion+', but the storage "'+n.storeName+'" already exists.')}}),i.onerror=function(n){n.preventDefault(),e(i.error)},i.onsuccess=function(){r(i.result),x(n)}}))}function _(n){return O(n,!1)}function j(n){return O(n,!0)}function B(n,t){if(!n.db)return!0;var r=!n.db.objectStoreNames.contains(n.storeName),e=n.version<n.db.version,o=n.version>n.db.version;if(e&&(n.version!==t&&console.warn('The database "'+n.name+"\" can't be downgraded from version "+n.db.version+" to version "+n.version+"."),n.version=n.db.version),o||r){if(r){var i=n.db.version+1;i>n.version&&(n.version=i)}return!0}return!1}function D(n){return new a((function(t,r){var e=new FileReader;e.onerror=r,e.onloadend=function(r){var e=btoa(r.target.result||"");t({__local_forage_encoded_blob:!0,data:e,type:n.type})},e.readAsBinaryString(n)}))}function T(n){return c([g(atob(n.data))],{type:n.type})}function R(n){return n&&n.__local_forage_encoded_blob}function k(n){var t=this,r=t.o().then((function(){var n=p[t.i.name];if(n&&n.dbReady)return n.dbReady}));return v(r,n,n),r}function N(n){I(n);for(var t=p[n.name],r=t.forages,e=0;e<r.length;e++){var o=r[e];o.i.db&&(o.i.db.close(),o.i.db=null)}return n.db=null,_(n).then((function(t){return n.db=t,B(n)?j(n):t})).then((function(e){n.db=t.db=e;for(var o=0;o<r.length;o++)r[o].i.db=e})).catch((function(t){throw A(n,t),t}))}function C(n,t,r,e){void 0===e&&(e=1);try{var o=n.db.transaction(n.storeName,t);r(null,o)}catch(o){if(e>0&&(!n.db||"InvalidStateError"===o.name||"NotFoundError"===o.name))return a.resolve().then((function(){if(!n.db||"NotFoundError"===o.name&&!n.db.objectStoreNames.contains(n.storeName)&&n.version<=n.db.version)return n.db&&(n.version=n.db.version+1),j(n)})).then((function(){return N(n).then((function(){C(n,t,r,e-1)}))})).catch(r);r(o)}}function L(){return{forages:[],db:null,dbReady:null,deferredOperations:[]}}function F(n){var t=this,r={db:null};if(n)for(var e in n)r[e]=n[e];var o=p[r.name];o||(o=L(),p[r.name]=o),o.forages.push(t),t.o||(t.o=t.ready,t.ready=k);var i=[];function u(){return a.resolve()}for(var f=0;f<o.forages.length;f++){var c=o.forages[f];c!==t&&i.push(c.o().catch(u))}var s=o.forages.slice(0);return a.all(i).then((function(){return r.db=o.db,_(r)})).then((function(n){return r.db=n,B(r,t.u.version)?j(r):n})).then((function(n){r.db=o.db=n,t.i=r;for(var e=0;e<s.length;e++){var i=s[e];i!==t&&(i.i.db=r.db,i.i.version=r.version)}}))}function M(n,t){var r=this;n=l(n);var e=new a((function(t,e){r.ready().then((function(){C(r.i,b,(function(o,i){if(o)return e(o);try{var u=i.objectStore(r.i.storeName).get(n);u.onsuccess=function(){var n=u.result;void 0===n&&(n=null),R(n)&&(n=T(n)),t(n)},u.onerror=function(){e(u.error)}}catch(n){e(n)}}))})).catch(e)}));return s(e,t),e}function U(n,t){var r=this,e=new a((function(t,e){r.ready().then((function(){C(r.i,b,(function(o,i){if(o)return e(o);try{var u=i.objectStore(r.i.storeName).openCursor(),f=1;u.onsuccess=function(){var r=u.result;if(r){var e=r.value;R(e)&&(e=T(e));var o=n(e,r.key,f++);void 0!==o?t(o):r.continue()}else t()},u.onerror=function(){e(u.error)}}catch(n){e(n)}}))})).catch(e)}));return s(e,t),e}function P(n,t,r){var e=this;n=l(n);var o=new a((function(r,o){var i;e.ready().then((function(){return i=e.i,"[object Blob]"===w.call(t)?S(i.db).then((function(n){return n?t:D(t)})):t})).then((function(t){C(e.i,E,(function(i,u){if(i)return o(i);try{var f=u.objectStore(e.i.storeName);null===t&&(t=void 0);var c=f.put(t,n);u.oncomplete=function(){void 0===t&&(t=null),r(t)},u.onabort=u.onerror=function(){var n=c.error?c.error:c.transaction.error;o(n)}}catch(n){o(n)}}))})).catch(o)}));return s(o,r),o}function W(n,t){var r=this;n=l(n);var e=new a((function(t,e){r.ready().then((function(){C(r.i,E,(function(o,i){if(o)return e(o);try{var u=i.objectStore(r.i.storeName).delete(n);i.oncomplete=function(){t()},i.onerror=function(){e(u.error)},i.onabort=function(){var n=u.error?u.error:u.transaction.error;e(n)}}catch(n){e(n)}}))})).catch(e)}));return s(e,t),e}function $(n){var t=this,r=new a((function(n,r){t.ready().then((function(){C(t.i,E,(function(e,o){if(e)return r(e);try{var i=o.objectStore(t.i.storeName).clear();o.oncomplete=function(){n()},o.onabort=o.onerror=function(){var n=i.error?i.error:i.transaction.error;r(n)}}catch(n){r(n)}}))})).catch(r)}));return s(r,n),r}function z(n){var t=this,r=new a((function(n,r){t.ready().then((function(){C(t.i,b,(function(e,o){if(e)return r(e);try{var i=o.objectStore(t.i.storeName).count();i.onsuccess=function(){n(i.result)},i.onerror=function(){r(i.error)}}catch(n){r(n)}}))})).catch(r)}));return s(r,n),r}function q(n,t){var r=this,e=new a((function(t,e){n<0?t(null):r.ready().then((function(){C(r.i,b,(function(o,i){if(o)return e(o);try{var u=i.objectStore(r.i.storeName),f=!1,c=u.openKeyCursor();c.onsuccess=function(){var r=c.result;r?0===n||f?t(r.key):(f=!0,r.advance(n)):t(null)},c.onerror=function(){e(c.error)}}catch(n){e(n)}}))})).catch(e)}));return s(e,t),e}function H(n){var t=this,r=new a((function(n,r){t.ready().then((function(){C(t.i,b,(function(e,o){if(e)return r(e);try{var i=o.objectStore(t.i.storeName).openKeyCursor(),u=[];i.onsuccess=function(){var t=i.result;t?(u.push(t.key),t.continue()):n(u)},i.onerror=function(){r(i.error)}}catch(n){r(n)}}))})).catch(r)}));return s(r,n),r}function K(n,t){t=d.apply(this,arguments);var r=this.config();(n="function"!=typeof n&&n||{}).name||(n.name=n.name||r.name,n.storeName=n.storeName||r.storeName);var e,o=this;if(n.name){var i=n.name===r.name&&o.i.db?a.resolve(o.i.db):_(n).then((function(t){var r=p[n.name],e=r.forages;r.db=t;for(var o=0;o<e.length;o++)e[o].i.db=t;return t}));e=n.storeName?i.then((function(t){if(t.objectStoreNames.contains(n.storeName)){var r=t.version+1;I(n);var e=p[n.name],o=e.forages;t.close();for(var i=0;i<o.length;i++){var f=o[i];f.i.db=null,f.i.version=r}var c=new a((function(t,e){var o=u.open(n.name,r);o.onerror=function(n){o.result.close(),e(n)},o.onupgradeneeded=function(){o.result.deleteObjectStore(n.storeName)},o.onsuccess=function(){var n=o.result;n.close(),t(n)}}));return c.then((function(n){e.db=n;for(var t=0;t<o.length;t++){var r=o[t];r.i.db=n,x(r.i)}})).catch((function(t){throw(A(n,t)||a.resolve()).catch((function(){})),t}))}})):i.then((function(t){I(n);var r=p[n.name],e=r.forages;t.close();for(var o=0;o<e.length;o++)e[o].i.db=null;var i=new a((function(t,r){var e=u.deleteDatabase(n.name);e.onerror=e.onblocked=function(n){var t=e.result;t&&t.close(),r(n)},e.onsuccess=function(){var n=e.result;n&&n.close(),t(n)}}));return i.then((function(n){r.db=n;for(var t=0;t<e.length;t++)x(e[t].i)})).catch((function(t){throw(A(n,t)||a.resolve()).catch((function(){})),t}))}))}else e=a.reject("Invalid arguments");return s(e,t),e}var G={v:"asyncStorage",l:F,h:f(),iterate:U,getItem:M,setItem:P,removeItem:W,clear:$,length:z,key:q,keys:H,dropInstance:K};function J(){return"function"==typeof openDatabase}var Q="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",X="~~local_forage_type~",Y=/^~~local_forage_type~([^~]+)~/,V="__lfsc__:",Z=V.length,nn="arbf",tn="blob",rn="si08",en="ui08",on="uic8",un="si16",fn="si32",cn="ur16",an="ui32",sn="fl32",vn="fl64",ln=Z+nn.length,dn=Object.prototype.toString;function hn(n){var t,r,e,o,i,u=.75*n.length,f=n.length,c=0;"="===n[n.length-1]&&(u--,"="===n[n.length-2]&&u--);var a=new ArrayBuffer(u),s=new Uint8Array(a);for(t=0;t<f;t+=4)r=Q.indexOf(n[t]),e=Q.indexOf(n[t+1]),o=Q.indexOf(n[t+2]),i=Q.indexOf(n[t+3]),s[c++]=r<<2|e>>4,s[c++]=(15&e)<<4|o>>2,s[c++]=(3&o)<<6|63&i;return a}function yn(n){var t,r=new Uint8Array(n),e="";for(t=0;t<r.length;t+=3)e+=Q[r[t]>>2],e+=Q[(3&r[t])<<4|r[t+1]>>4],e+=Q[(15&r[t+1])<<2|r[t+2]>>6],e+=Q[63&r[t+2]];return r.length%3==2?e=e.substring(0,e.length-1)+"=":r.length%3==1&&(e=e.substring(0,e.length-2)+"=="),e}function pn(n,t){var r="";if(n&&(r=dn.call(n)),n&&("[object ArrayBuffer]"===r||n.buffer&&"[object ArrayBuffer]"===dn.call(n.buffer))){var e,o=V;n instanceof ArrayBuffer?(e=n,o+=nn):(e=n.buffer,"[object Int8Array]"===r?o+=rn:"[object Uint8Array]"===r?o+=en:"[object Uint8ClampedArray]"===r?o+=on:"[object Int16Array]"===r?o+=un:"[object Uint16Array]"===r?o+=cn:"[object Int32Array]"===r?o+=fn:"[object Uint32Array]"===r?o+=an:"[object Float32Array]"===r?o+=sn:"[object Float64Array]"===r?o+=vn:t(new Error("Failed to get type for BinaryArray"))),t(o+yn(e))}else if("[object Blob]"===r){var i=new FileReader;i.onload=function(){var r=X+n.type+"~"+yn(this.result);t(V+tn+r)},i.readAsArrayBuffer(n)}else try{t(JSON.stringify(n))}catch(r){console.error("Couldn't convert value into a JSON string: ",n),t(null,r)}}function wn(n){if(n.substring(0,Z)!==V)return JSON.parse(n);var t,r=n.substring(ln),e=n.substring(Z,ln);if(e===tn&&Y.test(r)){var o=r.match(Y);t=o[1],r=r.substring(o[0].length)}var i=hn(r);switch(e){case nn:return i;case tn:return c([i],{type:t});case rn:return new Int8Array(i);case en:return new Uint8Array(i);case on:return new Uint8ClampedArray(i);case un:return new Int16Array(i);case cn:return new Uint16Array(i);case fn:return new Int32Array(i);case an:return new Uint32Array(i);case sn:return new Float32Array(i);case vn:return new Float64Array(i);default:throw new Error("Unkown type: "+e)}}var bn={serialize:pn,deserialize:wn,stringToBuffer:hn,bufferToString:yn};function En(n,t,r,e){n.executeSql("CREATE TABLE IF NOT EXISTS "+t.storeName+" (id INTEGER PRIMARY KEY, key unique, value)",[],r,e)}function gn(n){var t=this,r={db:null};if(n)for(var e in n)r[e]="string"!=typeof n[e]?n[e].toString():n[e];var o=new a((function(n,e){try{r.db=openDatabase(r.name,String(r.version),r.description,r.size)}catch(n){return e(n)}r.db.transaction((function(o){En(o,r,(function(){t.i=r,n()}),(function(n,t){e(t)}))}),e)}));return r.serializer=bn,o}function mn(n,t,r,e,o,i){n.executeSql(r,e,o,(function(n,u){u.code===u.SYNTAX_ERR?n.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name = ?",[t.storeName],(function(n,f){f.rows.length?i(n,u):En(n,t,(function(){n.executeSql(r,e,o,i)}),i)}),i):i(n,u)}),i)}function Sn(n,t){var r=this;n=l(n);var e=new a((function(t,e){r.ready().then((function(){var o=r.i;o.db.transaction((function(r){mn(r,o,"SELECT * FROM "+o.storeName+" WHERE key = ? LIMIT 1",[n],(function(n,r){var e=r.rows.length?r.rows.item(0).value:null;e&&(e=o.serializer.deserialize(e)),t(e)}),(function(n,t){e(t)}))}))})).catch(e)}));return s(e,t),e}function In(n,t){var r=this,e=new a((function(t,e){r.ready().then((function(){var o=r.i;o.db.transaction((function(r){mn(r,o,"SELECT * FROM "+o.storeName,[],(function(r,e){for(var i=e.rows,u=i.length,f=0;f<u;f++){var c=i.item(f),a=c.value;if(a&&(a=o.serializer.deserialize(a)),void 0!==(a=n(a,c.key,f+1)))return void t(a)}t()}),(function(n,t){e(t)}))}))})).catch(e)}));return s(e,t),e}function xn(n,t,r,e){var o=this;n=l(n);var i=new a((function(i,u){o.ready().then((function(){void 0===t&&(t=null);var f=t,c=o.i;c.serializer.serialize(t,(function(t,a){a?u(a):c.db.transaction((function(r){mn(r,c,"INSERT OR REPLACE INTO "+c.storeName+" (key, value) VALUES (?, ?)",[n,t],(function(){i(f)}),(function(n,t){u(t)}))}),(function(t){if(t.code===t.QUOTA_ERR){if(e>0)return void i(xn.apply(o,[n,f,r,e-1]));u(t)}}))}))})).catch(u)}));return s(i,r),i}function An(n,t,r){return xn.apply(this,[n,t,r,1])}function On(n,t){var r=this;n=l(n);var e=new a((function(t,e){r.ready().then((function(){var o=r.i;o.db.transaction((function(r){mn(r,o,"DELETE FROM "+o.storeName+" WHERE key = ?",[n],(function(){t()}),(function(n,t){e(t)}))}))})).catch(e)}));return s(e,t),e}function _n(n){var t=this,r=new a((function(n,r){t.ready().then((function(){var e=t.i;e.db.transaction((function(t){mn(t,e,"DELETE FROM "+e.storeName,[],(function(){n()}),(function(n,t){r(t)}))}))})).catch(r)}));return s(r,n),r}function jn(n){var t=this,r=new a((function(n,r){t.ready().then((function(){var e=t.i;e.db.transaction((function(t){mn(t,e,"SELECT COUNT(key) as c FROM "+e.storeName,[],(function(t,r){var e=r.rows.item(0).c;n(e)}),(function(n,t){r(t)}))}))})).catch(r)}));return s(r,n),r}function Bn(n,t){var r=this,e=new a((function(t,e){r.ready().then((function(){var o=r.i;o.db.transaction((function(r){mn(r,o,"SELECT key FROM "+o.storeName+" WHERE id = ? LIMIT 1",[n+1],(function(n,r){var e=r.rows.length?r.rows.item(0).key:null;t(e)}),(function(n,t){e(t)}))}))})).catch(e)}));return s(e,t),e}function Dn(n){var t=this,r=new a((function(n,r){t.ready().then((function(){var e=t.i;e.db.transaction((function(t){mn(t,e,"SELECT key FROM "+e.storeName,[],(function(t,r){for(var e=[],o=0;o<r.rows.length;o++)e.push(r.rows.item(o).key);n(e)}),(function(n,t){r(t)}))}))})).catch(r)}));return s(r,n),r}function Tn(n){return new a((function(t,r){n.transaction((function(e){e.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name <> '__WebKitDatabaseInfoTable__'",[],(function(r,e){for(var o=[],i=0;i<e.rows.length;i++)o.push(e.rows.item(i).name);t({db:n,storeNames:o})}),(function(n,t){r(t)}))}),(function(n){r(n)}))}))}function Rn(n,t){t=d.apply(this,arguments);var r=this.config();(n="function"!=typeof n&&n||{}).name||(n.name=n.name||r.name,n.storeName=n.storeName||r.storeName);var e,o=this;return s(e=n.name?new a((function(t){var e;e=n.name===r.name?o.i.db:openDatabase(n.name,"","",0),n.storeName?t({db:e,storeNames:[n.storeName]}):t(Tn(e))})).then((function(n){return new a((function(t,r){n.db.transaction((function(e){function o(n){return new a((function(t,r){e.executeSql("DROP TABLE IF EXISTS "+n,[],(function(){t()}),(function(n,t){r(t)}))}))}for(var i=[],u=0,f=n.storeNames.length;u<f;u++)i.push(o(n.storeNames[u]));a.all(i).then((function(){t()})).catch((function(n){r(n)}))}),(function(n){r(n)}))}))})):a.reject("Invalid arguments"),t),e}var kn={v:"webSQLStorage",l:gn,h:J(),iterate:In,getItem:Sn,setItem:An,removeItem:On,clear:_n,length:jn,key:Bn,keys:Dn,dropInstance:Rn};function Nn(){try{return"undefined"!=typeof localStorage&&"setItem"in localStorage&&!!localStorage.setItem}catch(n){return!1}}function Cn(n,t){var r=n.name+"/";return n.storeName!==t.storeName&&(r+=n.storeName+"/"),r}function Ln(){var n="_localforage_support_test";try{return localStorage.setItem(n,!0),localStorage.removeItem(n),!1}catch(n){return!0}}function Fn(){return!Ln()||localStorage.length>0}function Mn(n){var t=this,r={};if(n)for(var e in n)r[e]=n[e];return r.keyPrefix=Cn(n,t.u),Fn()?(t.i=r,r.serializer=bn,a.resolve()):a.reject()}function Un(n){var t=this,r=t.ready().then((function(){for(var n=t.i.keyPrefix,r=localStorage.length-1;r>=0;r--){var e=localStorage.key(r);0===e.indexOf(n)&&localStorage.removeItem(e)}}));return s(r,n),r}function Pn(n,t){var r=this;n=l(n);var e=r.ready().then((function(){var t=r.i,e=localStorage.getItem(t.keyPrefix+n);return e&&(e=t.serializer.deserialize(e)),e}));return s(e,t),e}function Wn(n,t){var r=this,e=r.ready().then((function(){for(var t=r.i,e=t.keyPrefix,o=e.length,i=localStorage.length,u=1,f=0;f<i;f++){var c=localStorage.key(f);if(0===c.indexOf(e)){var a=localStorage.getItem(c);if(a&&(a=t.serializer.deserialize(a)),void 0!==(a=n(a,c.substring(o),u++)))return a}}}));return s(e,t),e}function $n(n,t){var r=this,e=r.ready().then((function(){var t,e=r.i;try{t=localStorage.key(n)}catch(n){t=null}return t&&(t=t.substring(e.keyPrefix.length)),t}));return s(e,t),e}function zn(n){var t=this,r=t.ready().then((function(){for(var n=t.i,r=localStorage.length,e=[],o=0;o<r;o++){var i=localStorage.key(o);0===i.indexOf(n.keyPrefix)&&e.push(i.substring(n.keyPrefix.length))}return e}));return s(r,n),r}function qn(n){var t=this.keys().then((function(n){return n.length}));return s(t,n),t}function Hn(n,t){var r=this;n=l(n);var e=r.ready().then((function(){var t=r.i;localStorage.removeItem(t.keyPrefix+n)}));return s(e,t),e}function Kn(n,t,r){var e=this;n=l(n);var o=e.ready().then((function(){void 0===t&&(t=null);var r=t;return new a((function(o,i){var u=e.i;u.serializer.serialize(t,(function(t,e){if(e)i(e);else try{localStorage.setItem(u.keyPrefix+n,t),o(r)}catch(n){"QuotaExceededError"!==n.name&&"NS_ERROR_DOM_QUOTA_REACHED"!==n.name||i(n),i(n)}}))}))}));return s(o,r),o}function Gn(n,t){if(t=d.apply(this,arguments),!(n="function"!=typeof n&&n||{}).name){var r=this.config();n.name=n.name||r.name,n.storeName=n.storeName||r.storeName}var e,o=this;return e=n.name?new a((function(t){n.storeName?t(Cn(n,o.u)):t(n.name+"/")})).then((function(n){for(var t=localStorage.length-1;t>=0;t--){var r=localStorage.key(t);0===r.indexOf(n)&&localStorage.removeItem(r)}})):a.reject("Invalid arguments"),s(e,t),e}var Jn={v:"localStorageWrapper",l:Mn,h:Nn(),iterate:Wn,getItem:Pn,setItem:Kn,removeItem:Hn,clear:Un,length:qn,key:$n,keys:zn,dropInstance:Gn},Qn=function(n,t){return n===t||"number"==typeof n&&"number"==typeof t&&isNaN(n)&&isNaN(t)},Xn=function(n,t){for(var r=n.length,e=0;e<r;){if(Qn(n[e],t))return!0;e++}return!1},Yn=Array.isArray||function(n){return"[object Array]"===Object.prototype.toString.call(n)},Vn={},Zn={},nt={INDEXEDDB:G,WEBSQL:kn,LOCALSTORAGE:Jn},tt=[nt.INDEXEDDB.v,nt.WEBSQL.v,nt.LOCALSTORAGE.v],rt=["dropInstance"],et=["clear","getItem","iterate","key","keys","length","removeItem","setItem"].concat(rt),ot={description:"",driver:tt.slice(),name:"localforage",size:4980736,storeName:"keyvaluepairs",version:1};function it(n,t){n[t]=function(){var r=arguments;return n.ready().then((function(){return n[t].apply(n,r)}))}}function ut(){for(var n=1;n<arguments.length;n++){var t=arguments[n];if(t)for(var r in t)t.hasOwnProperty(r)&&(Yn(t[r])?arguments[0][r]=t[r].slice():arguments[0][r]=t[r])}return arguments[0]}var ft=function(){function n(t){for(var r in o(this,n),nt)if(nt.hasOwnProperty(r)){var e=nt[r],i=e.v;this[r]=i,Vn[i]||this.defineDriver(e)}this.u=ut({},ot),this.p=ut({},this.u,t),this.g=null,this.m=null,this.S=!1,this.i=null,this.I(),this.setDriver(this.p.driver).catch((function(){}))}return n.prototype.config=function(n){if("object"===(void 0===n?"undefined":e(n))){if(this.S)return new Error("Can't call config() after localforage has been used.");for(var t in n){if("storeName"===t&&(n[t]=n[t].replace(/\W/g,"_")),"version"===t&&"number"!=typeof n[t])return new Error("Database version must be a number.");this.p[t]=n[t]}return!("driver"in n)||!n.driver||this.setDriver(this.p.driver)}return"string"==typeof n?this.p[n]:this.p},n.prototype.defineDriver=function(n,t,r){var e=new a((function(t,r){try{var e=n.v,o=new Error("Custom driver not compliant; see https://mozilla.github.io/localForage/#definedriver");if(!n.v)return void r(o);for(var i=et.concat("_initStorage"),u=0,f=i.length;u<f;u++){var c=i[u];if((!Xn(rt,c)||n[c])&&"function"!=typeof n[c])return void r(o)}var v=function(){for(var t=function(n){return function(){var t=new Error("Method "+n+" is not implemented by the current driver"),r=a.reject(t);return s(r,arguments[arguments.length-1]),r}},r=0,e=rt.length;r<e;r++){var o=rt[r];n[o]||(n[o]=t(o))}};v();var l=function(r){Vn[e]&&console.info("Redefining LocalForage driver: "+e),Vn[e]=n,Zn[e]=r,t()};"h"in n?n.h&&"function"==typeof n.h?n.h().then(l,r):l(!!n.h):l(!0)}catch(n){r(n)}}));return v(e,t,r),e},n.prototype.driver=function(){return this.v||null},n.prototype.getDriver=function(n,t,r){var e=Vn[n]?a.resolve(Vn[n]):a.reject(new Error("Driver not found."));return v(e,t,r),e},n.prototype.getSerializer=function(n){var t=a.resolve(bn);return v(t,n),t},n.prototype.ready=function(n){var t=this,r=t.g.then((function(){return null===t.S&&(t.S=t.m()),t.S}));return v(r,n,n),r},n.prototype.setDriver=function(n,t,r){var e=this;Yn(n)||(n=[n]);var o=this.A(n);function i(){e.p.driver=e.driver()}function u(n){return e.O(n),i(),e.S=e.l(e.p),e.S}function f(n){return function(){var t=0;function r(){for(;t<n.length;){var o=n[t];return t++,e.i=null,e.S=null,e.getDriver(o).then(u).catch(r)}i();var f=new Error("No available storage method found.");return e.g=a.reject(f),e.g}return r()}}var c=null!==this.g?this.g.catch((function(){return a.resolve()})):a.resolve();return this.g=c.then((function(){var n=o[0];return e.i=null,e.S=null,e.getDriver(n).then((function(n){e.v=n.v,i(),e.I(),e.m=f(o)}))})).catch((function(){i();var n=new Error("No available storage method found.");return e.g=a.reject(n),e.g})),v(this.g,t,r),this.g},n.prototype.supports=function(n){return!!Zn[n]},n.prototype.O=function(n){ut(this,n)},n.prototype.A=function(n){for(var t=[],r=0,e=n.length;r<e;r++){var o=n[r];this.supports(o)&&t.push(o)}return t},n.prototype.I=function(){for(var n=0,t=et.length;n<t;n++)it(this,et[n])},n.prototype.createInstance=function(t){return new n(t)},n}(),ct=new ft;t.exports=ct},{3:3}]},{},[4])(4);var m=g.exports;class S{constructor(n={}){this.name=S.id,this.global=o(),this.maxStoredEvents=n.maxStoredEvents||30,this.offlineEventStore=m.createInstance({name:"sentry/offlineEventStore"})}setupOnce(n,t){this.hub=t(),"addEventListener"in this.global&&this.global.addEventListener("online",(()=>{this._().catch((()=>{}))})),n((n=>this.hub&&this.hub.getIntegration(S)&&"navigator"in this.global&&"onLine"in this.global.navigator&&!this.global.navigator.onLine?(this.j(n).then((n=>this.B())).catch((n=>{})),null):n)),"navigator"in this.global&&"onLine"in this.global.navigator&&this.global.navigator.onLine&&this._().catch((()=>{}))}j(n){return r(this,void 0,void 0,(function*(){return this.offlineEventStore.setItem(function(){const n=o(),t=n.crypto||n.msCrypto;if(void 0!==t&&t.getRandomValues){const n=new Uint16Array(8);t.getRandomValues(n),n[3]=4095&n[3]|16384,n[4]=16383&n[4]|32768;const r=n=>{let t=n.toString(16);for(;t.length<4;)t=`0${t}`;return t};return r(n[0])+r(n[1])+r(n[2])+r(n[3])+r(n[4])+r(n[5])+r(n[6])+r(n[7])}return"xxxxxxxxxxxx4xxxyxxxxxxxxxxxxxxx".replace(/[xy]/g,(n=>{const t=16*Math.random()|0;return("x"===n?t:3&t|8).toString(16)}))}(),y(n))}))}B(){return r(this,void 0,void 0,(function*(){const n=[];return this.offlineEventStore.iterate(((t,r,e)=>{n.push({cacheKey:r,event:t})})).then((()=>this.D(n.sort(((n,t)=>(t.event.timestamp||0)-(n.event.timestamp||0))).slice(this.maxStoredEvents<n.length?this.maxStoredEvents:n.length).map((n=>n.cacheKey))))).catch((n=>{}))}))}T(n){return r(this,void 0,void 0,(function*(){return this.offlineEventStore.removeItem(n)}))}D(n){return r(this,void 0,void 0,(function*(){return Promise.all(n.map((n=>this.T(n)))).then()}))}_(){return r(this,void 0,void 0,(function*(){return this.offlineEventStore.iterate(((n,t,r)=>{this.hub&&(this.hub.captureEvent(n),this.T(t).catch((n=>{})))}))}))}}for(var I in S.id="Offline",t.Offline=S,n.Sentry=n.Sentry||{},n.Sentry.Integrations=n.Sentry.Integrations||{},t)Object.prototype.hasOwnProperty.call(t,I)&&(n.Sentry.Integrations[I]=t[I])}(window);
//# sourceMappingURL=offline.es6.min.js.map
